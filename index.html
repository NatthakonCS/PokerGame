<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Poker Companion</title>
    <link rel="stylesheet" href="style.css">
    </head>
<body>

    <div id="login-screen" class="screen">
        <h1>‚ô£Ô∏è Poker Room ‚ô¶Ô∏è</h1>
        <input type="text" id="username" placeholder="‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì">
        <div class="actions">
            <button onclick="createRoom()" class="btn-green">Create Room</button>
            <div class="join-box">
                <input type="number" id="room-code-input" placeholder="‡πÄ‡∏•‡∏Ç‡∏´‡πâ‡∏≠‡∏á">
                <button onclick="joinRoom()" class="btn-blue">Join Room</button>
            </div>
        </div>
    </div>

    <div id="lobby-screen" class="screen hidden">
        <h2>Room: <span id="display-room-id"></span></h2>
        <h3>‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á:</h3>
        <ul id="player-list"></ul>
        <div id="host-controls" class="hidden">
            <button onclick="startGame()" class="btn-start">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏° (Start Game)</button>
        </div>
        <div id="waiting-msg">‡∏£‡∏≠‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°...</div>
    </div>

    <div id="game-screen" class="screen hidden">
        <div id="big-blind-announce" class="overlay hidden">
            <h1 id="big-blind-name"></h1>
            <div class="big-symbol">B</div>
        </div>

        <div class="top-bar">
            <div>Pot: <span id="pot-amount">0</span></div>
            <div id="turn-indicator">‡∏£‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°...</div>
        </div>

        <div class="table-area">
            <div class="cards-container">
                <div class="card-slot" onclick="dealerClickCard(0)">?</div>
                <div class="card-slot" onclick="dealerClickCard(1)">?</div>
                <div class="card-slot" onclick="dealerClickCard(2)">?</div>
                <div class="card-slot" onclick="dealerClickCard(3)">?</div>
                <div class="card-slot" onclick="dealerClickCard(4)">?</div>
            </div>
        </div>

        <div class="control-panel">
            <div id="chip-selector" class="chips">
                <button onclick="selectChip(1)">1</button>
                <button onclick="selectChip(3)">3</button>
                <button onclick="selectChip(5)">5</button>
                <button onclick="selectChip(7)">7</button>
                <button onclick="selectChip(10)">10</button>
            </div>
            <div class="action-buttons">
                <button onclick="submitAction('fold')" class="btn-red">‡∏´‡∏°‡∏≠‡∏ö (Fold)</button>
                <button onclick="submitAction('check')" class="btn-yellow">‡πÄ‡∏ä‡πá‡∏Ñ (Check)</button>
                <button onclick="submitAction('bet')" class="btn-green">‡∏•‡∏á‡πÄ‡∏á‡∏¥‡∏ô (Confirm)</button>
            </div>
            <p id="selected-bet">Bet: 0</p>
        </div>

        <div id="dealer-end-controls" class="hidden">
            <button onclick="openWinnerModal()" class="btn-end">‡∏à‡∏ö‡πÄ‡∏Å‡∏° / ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞</button>
        </div>
    </div>

    <div id="card-modal" class="modal hidden">
        <div class="modal-content">
            <h3>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà</h3>
            <select id="card-rank">
                <option value="A">A</option>
                <option value="2">2</option>
                <option value="K">K</option>
            </select>
            <select id="card-suit">
                <option value="‚ô†">‡πÇ‡∏û‡∏î‡∏≥ (‚ô†)</option>
                <option value="‚ô•">‡πÇ‡∏û‡πÅ‡∏î‡∏á (‚ô•)</option>
                <option value="‚ô£">‡∏î‡∏≠‡∏Å‡∏à‡∏¥‡∏Å (‚ô£)</option>
                <option value="‚ô¶">‡∏Ç‡πâ‡∏≤‡∏ß‡∏´‡∏•‡∏≤‡∏°‡∏ï‡∏±‡∏î (‚ô¶)</option>
            </select>
            <button onclick="confirmCard()" class="btn-green">‡∏ï‡∏Å‡∏•‡∏á</button>
            <button onclick="closeModal('card-modal')" class="btn-red">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        </div>
    </div>

    <div id="winner-modal" class="modal hidden">
        <div class="modal-content">
            <h3>‡∏à‡∏ö‡πÄ‡∏Å‡∏°! ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞</h3>
            <select id="winner-select"></select>
            <button onclick="confirmWinner()" class="btn-green">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞</button>
        </div>
    </div>

    <div id="payment-screen" class="screen hidden">
        <div id="winner-view" class="hidden">
            <h2>‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏ô‡∏∞! üéâ</h2>
            <p>‡πÄ‡∏á‡∏¥‡∏ô‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•: <span id="win-amount"></span></p>
            <input type="text" id="pp-id" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå PromptPay / ‡∏£‡∏´‡∏±‡∏™ ‡∏õ‡∏ä‡∏ä.">
            <button onclick="generateQR()" class="btn-blue">‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code</button>
            <div id="qr-display"></div>
        </div>
        <div id="loser-view" class="hidden">
            <h2>‡∏à‡∏ö‡πÄ‡∏Å‡∏°</h2>
            <p>‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞‡∏Ñ‡∏∑‡∏≠: <span id="winner-name-display"></span></p>
            <p>‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏≥‡πÑ‡∏£‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ</p>
            <div id="loser-qr-display"></div>
        </div>
        <br>
        <button id="reset-btn" onclick="resetGame()" class="hidden btn-start">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á (Reset)</button>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html>
