<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poker Assistant</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
</head>
<body>

    <div id="login-screen" class="screen">
        <h1>‚ô†Ô∏è Poker Room ‚ô•Ô∏è</h1>
        <br>
        <input type="text" id="username" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì" style="padding:10px; font-size:16px;">
        <br><br>
        <button onclick="createRoom()" class="action-btn btn-bet" style="width:80%">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Dealer)</button>
        <br><br>
        <div style="background:rgba(255,255,255,0.1); padding:15px; border-radius:10px;">
            <input type="number" id="room-code-input" placeholder="‡πÄ‡∏•‡∏Ç‡∏´‡πâ‡∏≠‡∏á 4 ‡∏´‡∏•‡∏±‡∏Å" style="padding:10px; font-size:16px;">
            <button onclick="joinRoom()" class="action-btn btn-check">‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏´‡πâ‡∏≠‡∏á</button>
        </div>
    </div>

    <div id="lobby-screen" class="screen hidden">
        <h2>‡∏´‡πâ‡∏≠‡∏á: <span id="display-room-id" style="color:#f1c40f"></span></h2>
        <div id="player-list-container">
            <h3>‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á:</h3>
            <ul id="player-list" style="text-align:left; display:inline-block;"></ul>
        </div>
        <div id="host-controls" class="hidden">
            <br>
            <button onclick="startGame()" class="action-btn btn-bet" style="width:100%">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏° (Dealer ‡∏Å‡∏î)</button>
        </div>
        <p id="waiting-msg">‡∏£‡∏≠ Dealer ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°...</p>
    </div>

    <div id="game-screen" class="screen hidden">
        <div id="big-blind-announce" class="hidden" style="position:absolute; top:40%; left:0; right:0; font-size:40px; color:gold; text-shadow:2px 2px 0 #000; z-index:100;">
            BIG BLIND!
        </div>

        <div class="top-bar">
            <div>‡∏Å‡∏≠‡∏á‡∏Å‡∏•‡∏≤‡∏á (Pot): <span id="pot-amount">0</span></div>
            <div id="turn-indicator">‡∏£‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°...</div>
        </div>

        <div id="action-log">‡πÄ‡∏Å‡∏°‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°...</div>

        <div class="table-area">
            <div class="cards-container">
                <div class="card-slot" onclick="dealerClickCard(0)">?</div>
                <div class="card-slot" onclick="dealerClickCard(1)">?</div>
                <div class="card-slot" onclick="dealerClickCard(2)">?</div>
                <div class="card-slot" onclick="dealerClickCard(3)">?</div>
                <div class="card-slot" onclick="dealerClickCard(4)">?</div>
            </div>
        </div>

        <div id="player-controls" class="control-panel">
            <div id="chip-selector" class="chips">
                <button onclick="selectChip(1)" class="chip-btn chip-1">1</button>
                <button onclick="selectChip(3)" class="chip-btn chip-3">3</button>
                <button onclick="selectChip(5)" class="chip-btn chip-5">5</button>
                <button onclick="selectChip(7)" class="chip-btn chip-7">7</button>
                <button onclick="selectChip(10)" class="chip-btn chip-10">10</button>
            </div>
            <p id="selected-bet" style="color:gold; margin:5px;">‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å: 0</p>
            <div class="action-buttons">
                <button onclick="submitAction('fold')" class="action-btn btn-fold">‡∏´‡∏°‡∏≠‡∏ö</button>
                <button onclick="submitAction('check')" class="action-btn btn-check">‡∏ú‡πà‡∏≤‡∏ô</button>
                <button onclick="submitAction('bet')" class="action-btn btn-bet">‡∏•‡∏á‡πÄ‡∏á‡∏¥‡∏ô</button>
            </div>
        </div>

        <div id="dealer-controls" class="hidden">
            <div class="dealer-msg">‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠ Dealer üëÆ‚Äç‚ôÇÔ∏è<br>‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏û‡πà‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏°‡πÄ‡∏Å‡∏°</div>
            <br>
            <button onclick="openWinnerModal()" class="action-btn btn-fold" style="width:100%">‡∏à‡∏ö‡πÄ‡∏Å‡∏° / ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞</button>
        </div>
    </div>

    <div id="card-modal" class="hidden" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); display:flex; justify-content:center; align-items:center;">
        <div style="background:white; padding:20px; border-radius:10px; color:black;">
            <h3>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà</h3>
            <select id="card-rank" style="font-size:20px; padding:5px;"><option value="A">A</option><option value="K">K</option><option value="Q">Q</option><option value="J">J</option><option value="10">10</option><option value="9">9</option><option value="8">8</option><option value="7">7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option></select>
            <select id="card-suit" style="font-size:20px; padding:5px;"><option value="‚ô†">‚ô† ‡πÇ‡∏û‡∏î‡∏≥</option><option value="‚ô•">‚ô• ‡πÇ‡∏û‡πÅ‡∏î‡∏á</option><option value="‚ô£">‚ô£ ‡∏î‡∏≠‡∏Å‡∏à‡∏¥‡∏Å</option><option value="‚ô¶">‚ô¶ ‡∏Ç‡πâ‡∏≤‡∏ß‡∏´‡∏•‡∏≤‡∏°‡∏ï‡∏±‡∏î</option></select>
            <br><br>
            <button onclick="confirmCard()" class="action-btn btn-bet">‡∏ï‡∏Å‡∏•‡∏á</button>
            <button onclick="closeModal('card-modal')" class="action-btn btn-fold">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        </div>
    </div>

    <div id="winner-modal" class="hidden" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); display:flex; justify-content:center; align-items:center;">
        <div style="background:white; padding:20px; border-radius:10px; color:black;">
            <h3>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞</h3>
            <select id="winner-select" style="font-size:18px; padding:5px; width:100%"></select>
            <br><br>
            <button onclick="confirmWinner()" class="action-btn btn-bet">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
            <button onclick="closeModal('winner-modal')" class="action-btn btn-fold">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        </div>
    </div>

    <div id="payment-screen" class="screen hidden">
        <div id="winner-view" class="hidden">
            <h1 style="color:#f1c40f">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏ô‡∏∞! üéâ</h1>
            <h2>‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô: <span id="win-amount"></span></h2>
            <input type="text" id="pp-id" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå PromptPay" style="padding:10px; font-size:18px;">
            <br><br>
            <button onclick="generateQR()" class="action-btn btn-bet">‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code</button>
            <div id="qr-display" style="margin-top:20px;"></div>
        </div>
        <div id="loser-view" class="hidden">
            <h1>‡∏à‡∏ö‡πÄ‡∏Å‡∏°</h1>
            <p>‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞‡∏Ñ‡∏∑‡∏≠: <span id="winner-name-display" style="font-weight:bold; color:#f1c40f;"></span></p>
            <div id="loser-qr-display" style="margin-top:20px;"></div>
        </div>
        <br><br>
        <button id="reset-btn" onclick="resetGame()" class="hidden action-btn btn-check" style="width:100%">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà (Reset)</button>
    </div>

    <script src="script.js"></script>
</body>
</html>
